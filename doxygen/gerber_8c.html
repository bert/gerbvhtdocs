<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>gerbv: src/gerber.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">gerbv
   &#160;<span id="projectnumber">2.6A</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gerber_8c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gerber.c File Reference<div class="ingroups"><a class="el" href="group__libgerbv.html">libgerbv</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="gerber_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1619c05f6081185f49f6c36513ebb04b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#a1619c05f6081185f49f6c36513ebb04b">parse_G_code</a> (gerb_file_t *fd, gerb_state_t *state, <a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *image)</td></tr>
<tr class="memitem:a9da9fc25bd1d004b20e7b43033c22544"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#a9da9fc25bd1d004b20e7b43033c22544">parse_D_code</a> (gerb_file_t *fd, gerb_state_t *state, <a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *image)</td></tr>
<tr class="memitem:ae50502bd658a484dcd07c4360bafe435"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#ae50502bd658a484dcd07c4360bafe435">gerber_parse_file_segment</a> (gint levelOfRecursion, <a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *image, gerb_state_t *state, <a class="el" href="gerbv_8h.html#a52f154d10eb9d0e54fc3a77d73d22201">gerbv_net_t</a> *curr_net, <a class="el" href="structgerbv__stats__t.html">gerbv_stats_t</a> *stats, gerb_file_t *fd, gchar *directoryPath)</td></tr>
<tr class="memitem:afed2f7eb78aa79c288d341fa986d19f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#afed2f7eb78aa79c288d341fa986d19f5">parse_gerb</a> (gerb_file_t *fd, gchar *directoryPath)</td></tr>
<tr class="memitem:ac8d477d089cfc66eb15a40fe2a72940e"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#ac8d477d089cfc66eb15a40fe2a72940e">gerber_is_rs274x_p</a> (gerb_file_t *fd, gboolean *returnFoundBinary)</td></tr>
<tr class="memitem:a1f3c64ad0d66dca00fa2bf07012e3fc6"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gerber_8c.html#a1f3c64ad0d66dca00fa2bf07012e3fc6">gerber_is_rs274d_p</a> (gerb_file_t *fd)</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>RS274X parsing functions. </p>

<p>Definition in file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>
</div><h2>Function Documentation</h2>
<a class="anchor" id="a1f3c64ad0d66dca00fa2bf07012e3fc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean gerber_is_rs274d_p </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks for signs that this is a RS-274D file Returns TRUE if it is, FALSE if not. </p>

<p>Definition at line <a class="el" href="gerber_8c_source.html#l00902">902</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac8d477d089cfc66eb15a40fe2a72940e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean gerber_is_rs274x_p </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gboolean *&#160;</td>
          <td class="paramname"><em>returnFoundBinary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks for signs that this is a RS-274X file Returns TRUE if it is, FALSE if not. </p>

<p>Definition at line <a class="el" href="gerber_8c_source.html#l00807">807</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae50502bd658a484dcd07c4360bafe435"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean gerber_parse_file_segment </td>
          <td>(</td>
          <td class="paramtype">gint&#160;</td>
          <td class="paramname"><em>levelOfRecursion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gerb_state_t *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gerbv_8h.html#a52f154d10eb9d0e54fc3a77d73d22201">gerbv_net_t</a> *&#160;</td>
          <td class="paramname"><em>curr_net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgerbv__stats__t.html">gerbv_stats_t</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gchar *&#160;</td>
          <td class="paramname"><em>directoryPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads the Gerber file char by char, looking for various Gerber codes (e.g. G, D, etc). Once it reads a code, it then dispatches control to one or another bits of code which parse the individual code. It also updates the state struct, which holds info about the current state of the hypothetical photoplotter (i.e. updates whether the aperture is on or off, updates any other parameters, like units, offsets, apertures, etc.) </p>

<p>Definition at line <a class="el" href="gerber_8c_source.html#l00132">132</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

<p>References <a class="el" href="gerbv_8h_source.html#l00527">gerbv_net::aperture</a>, <a class="el" href="gerbv_8h_source.html#l00588">gerbv_image_t::aperture</a>, <a class="el" href="gerbv_8h_source.html#l00528">gerbv_net::aperture_state</a>, <a class="el" href="gerbv_8h_source.html#l00467">gerbv_render_size_t::bottom</a>, <a class="el" href="gerbv_8h_source.html#l00526">gerbv_net::boundingBox</a>, <a class="el" href="gerbv_8h_source.html#l00530">gerbv_net::cirseg</a>, <a class="el" href="gerbv_8h_source.html#l00592">gerbv_image_t::format</a>, <a class="el" href="gerbv_8h_source.html#l00149">GERBV_APERTURE_STATE_FLASH</a>, <a class="el" href="gerbv_8h_source.html#l00147">GERBV_APERTURE_STATE_OFF</a>, <a class="el" href="gerbv_8h_source.html#l00135">GERBV_APTYPE_MACRO</a>, <a class="el" href="gerbv_8h_source.html#l00136">GERBV_APTYPE_MACRO_CIRCLE</a>, <a class="el" href="gerbv_8h_source.html#l00141">GERBV_APTYPE_MACRO_LINE20</a>, <a class="el" href="gerbv_8h_source.html#l00142">GERBV_APTYPE_MACRO_LINE21</a>, <a class="el" href="gerbv_8h_source.html#l00143">GERBV_APTYPE_MACRO_LINE22</a>, <a class="el" href="gerbv_8h_source.html#l00139">GERBV_APTYPE_MACRO_MOIRE</a>, <a class="el" href="gerbv_8h_source.html#l00137">GERBV_APTYPE_MACRO_OUTLINE</a>, <a class="el" href="gerbv_8h_source.html#l00138">GERBV_APTYPE_MACRO_POLYGON</a>, <a class="el" href="gerbv_8h_source.html#l00140">GERBV_APTYPE_MACRO_THERMAL</a>, <a class="el" href="gerbv_8h_source.html#l00133">GERBV_APTYPE_OVAL</a>, <a class="el" href="gerbv_8h_source.html#l00132">GERBV_APTYPE_RECTANGLE</a>, <a class="el" href="gerbv_8h_source.html#l00174">GERBV_COORDINATE_INCREMENTAL</a>, <a class="el" href="gerbv_8h_source.html#l00183">GERBV_INTERPOLATION_CCW_CIRCULAR</a>, <a class="el" href="gerbv_8h_source.html#l00182">GERBV_INTERPOLATION_CW_CIRCULAR</a>, <a class="el" href="gerbv_8h_source.html#l00178">GERBV_INTERPOLATION_LINEARx1</a>, <a class="el" href="gerbv_8h_source.html#l00185">GERBV_INTERPOLATION_PAREA_END</a>, <a class="el" href="gerbv_8h_source.html#l00184">GERBV_INTERPOLATION_PAREA_START</a>, <a class="el" href="gerbv_8h_source.html#l00122">GERBV_MESSAGE_ERROR</a>, <a class="el" href="gerbv_8h_source.html#l00167">GERBV_OMIT_ZEROS_TRAILING</a>, <a class="el" href="gerbv_8h_source.html#l00162">GERBV_POLARITY_CLEAR</a>, <a class="el" href="gerbv_8h_source.html#l00154">GERBV_UNIT_MM</a>, <a class="el" href="gerbv_8h_source.html#l00593">gerbv_image_t::info</a>, <a class="el" href="gerbv_8h_source.html#l00529">gerbv_net::interpolation</a>, <a class="el" href="gerbv_8h_source.html#l00533">gerbv_net::layer</a>, <a class="el" href="gerbv_8h_source.html#l00465">gerbv_render_size_t::left</a>, <a class="el" href="gerber_8c_source.html#l01128">parse_D_code()</a>, <a class="el" href="gerber_8c_source.html#l00986">parse_G_code()</a>, <a class="el" href="gerbv_8h_source.html#l00466">gerbv_render_size_t::right</a>, <a class="el" href="gerbv_8h_source.html#l00522">gerbv_net::start_x</a>, <a class="el" href="gerbv_8h_source.html#l00523">gerbv_net::start_y</a>, <a class="el" href="gerbv_8h_source.html#l00524">gerbv_net::stop_x</a>, <a class="el" href="gerbv_8h_source.html#l00525">gerbv_net::stop_y</a>, and <a class="el" href="gerbv_8h_source.html#l00468">gerbv_render_size_t::top</a>.</p>

<p>Referenced by <a class="el" href="gerber_8c_source.html#l00737">parse_gerb()</a>.</p>

</div>
</div>
<a class="anchor" id="a9da9fc25bd1d004b20e7b43033c22544"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_D_code </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gerb_state_t *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *&#160;</td>
          <td class="paramname"><em>image</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function reads the numeric value of a D code and updates the state. It also updates the D stats counters </p>

<p>Definition at line <a class="el" href="gerber_8c_source.html#l01128">1128</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

<p>References <a class="el" href="gerbv_8h_source.html#l00149">GERBV_APERTURE_STATE_FLASH</a>, <a class="el" href="gerbv_8h_source.html#l00147">GERBV_APERTURE_STATE_OFF</a>, <a class="el" href="gerbv_8h_source.html#l00148">GERBV_APERTURE_STATE_ON</a>, <a class="el" href="gerbv_8h_source.html#l00122">GERBV_MESSAGE_ERROR</a>, and <a class="el" href="gerbv_8h_source.html#l00595">gerbv_image_t::gerbv_stats</a>.</p>

<p>Referenced by <a class="el" href="gerber_8c_source.html#l00132">gerber_parse_file_segment()</a>.</p>

</div>
</div>
<a class="anchor" id="a1619c05f6081185f49f6c36513ebb04b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void parse_G_code </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gerb_state_t *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a> *&#160;</td>
          <td class="paramname"><em>image</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function reads a G number and updates the current state. It also updates the G stats counters </p>

<p>Definition at line <a class="el" href="gerber_8c_source.html#l00986">986</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

<p>References <a class="el" href="gerbv_8h_source.html#l00592">gerbv_image_t::format</a>, <a class="el" href="gerbv_8h_source.html#l00173">GERBV_COORDINATE_ABSOLUTE</a>, <a class="el" href="gerbv_8h_source.html#l00174">GERBV_COORDINATE_INCREMENTAL</a>, <a class="el" href="gerbv_8h_source.html#l00183">GERBV_INTERPOLATION_CCW_CIRCULAR</a>, <a class="el" href="gerbv_8h_source.html#l00182">GERBV_INTERPOLATION_CW_CIRCULAR</a>, <a class="el" href="gerbv_8h_source.html#l00181">GERBV_INTERPOLATION_LINEARx001</a>, <a class="el" href="gerbv_8h_source.html#l00180">GERBV_INTERPOLATION_LINEARx01</a>, <a class="el" href="gerbv_8h_source.html#l00178">GERBV_INTERPOLATION_LINEARx1</a>, <a class="el" href="gerbv_8h_source.html#l00185">GERBV_INTERPOLATION_PAREA_END</a>, <a class="el" href="gerbv_8h_source.html#l00184">GERBV_INTERPOLATION_PAREA_START</a>, <a class="el" href="gerbv_8h_source.html#l00179">GERBV_INTERPOLATION_x10</a>, <a class="el" href="gerbv_8h_source.html#l00122">GERBV_MESSAGE_ERROR</a>, <a class="el" href="gerbv_8h_source.html#l00123">GERBV_MESSAGE_WARNING</a>, <a class="el" href="gerbv_8h_source.html#l00595">gerbv_image_t::gerbv_stats</a>, <a class="el" href="gerbv_8h_source.html#l00153">GERBV_UNIT_INCH</a>, and <a class="el" href="gerbv_8h_source.html#l00154">GERBV_UNIT_MM</a>.</p>

<p>Referenced by <a class="el" href="gerber_8c_source.html#l00132">gerber_parse_file_segment()</a>.</p>

</div>
</div>
<a class="anchor" id="afed2f7eb78aa79c288d341fa986d19f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgerbv__image__t.html">gerbv_image_t</a>* parse_gerb </td>
          <td>(</td>
          <td class="paramtype">gerb_file_t *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gchar *&#160;</td>
          <td class="paramname"><em>directoryPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a wrapper which gets called from top level. It does some initialization and pre-processing, and then calls gerber_parse_file_segment which processes the actual file. Then it does final modifications to the image created. </p>

<p>Definition at line <a class="el" href="gerber_8c_source.html#l00737">737</a> of file <a class="el" href="gerber_8c_source.html">gerber.c</a>.</p>

<p>References <a class="el" href="gerber_8c_source.html#l00132">gerber_parse_file_segment()</a>, <a class="el" href="gerb__image_8c_source.html#l00046">gerbv_create_image()</a>, <a class="el" href="gerbv_8h_source.html#l00199">GERBV_LAYERTYPE_RS274X</a>, <a class="el" href="gerbv_8h_source.html#l00122">GERBV_MESSAGE_ERROR</a>, <a class="el" href="gerbv_8h_source.html#l00595">gerbv_image_t::gerbv_stats</a>, <a class="el" href="gerb__stats_8c_source.html#l00044">gerbv_stats_new()</a>, <a class="el" href="gerbv_8h_source.html#l00533">gerbv_net::layer</a>, <a class="el" href="gerbv_8h_source.html#l00589">gerbv_image_t::layers</a>, <a class="el" href="gerbv_8h_source.html#l00587">gerbv_image_t::layertype</a>, <a class="el" href="gerbv_8h_source.html#l00594">gerbv_image_t::netlist</a>, <a class="el" href="gerbv_8h_source.html#l00534">gerbv_net::state</a>, and <a class="el" href="gerbv_8h_source.html#l00590">gerbv_image_t::states</a>.</p>

<p>Referenced by <a class="el" href="gerbv_8c_source.html#l00527">gerbv_create_rs274x_image_from_filename()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="gerber_8c.html">gerber.c</a></li>
    <li class="footer">Generated on Sat Aug 9 2014 18:23:09 for gerbv by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
